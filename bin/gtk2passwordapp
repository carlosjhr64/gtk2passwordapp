#!/usr/bin/env ruby

require 'rubygems'
gem 'gtk2applib', '~> 7'
require 'gtk2applib'

include Gtk2AppLib
PROGRAM = Program.new( {
	:name		=> 'Ruby-Gnome Password Manager',
	:tooltip	=> 'Password Manager',
        :icon_name      => 'Passwords',
        :FILE           => __FILE__,
        :lock           => "Proceed anyways?",
        } )

begin
  require 'gtk2passwordapp'
  passwords = Gtk2PasswordApp::Passwords.new
  Gtk2PasswordApp.build_menu(passwords)

  about = {
        :authors        => ['carlosjhr64@gmail.com'],
	:website	=> 'http://ruby-gnome-apps.blogspot.com/search/label/Passwords',
	:website_label	=> 'Ruby-Gnome Password Manager',
        :license        => 'GPL',
        :copyright      => '2010-08-17 19:00:27',
        }

  PROGRAM.window(about) do |window|
    Gtk2PasswordApp.edit(window,passwords)
  end
rescue Exception
  $verbose = true
  Gtk2AppLib.puts_bang!
ensure
  PROGRAM.finalize
end

